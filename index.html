<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <script defer data-domain="nigilcaenaan.online" src="https://plausible.io/js/script.hash.outbound-links.js"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <meta name="title" content="Nigil Caenaan | Music Maker, Composer, and Artist">
    <meta name="description" id="meta-description" content="Musician • Artist • Alias of @Vveerrgg">
    <meta name="author" content="Nigil Caenaan">
    <meta name="keywords" content="Nigil Caenaan, musician, composer, artist, nostr, bitcoin, lightning network, music, composition">
    <meta name="robots" content="index, follow">
    <meta name="language" content="English">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="profile">
    <meta property="og:url" content="https://nigilcaenaan.online/">
    <meta property="og:title" id="og-title" content="Nigil Caenaan | Music Maker, Composer, and Artist">
    <meta property="og:description" id="og-description" content="Musician • Artist • Alias of @Vveerrgg">
    <meta property="og:image" content="https://primal.b-cdn.net/media-cache?s=m&a=1&u=https%3A%2F%2Fm.primal.net%2FKbTY.jpg">
    <meta property="og:image:alt" content="Nigil Caenaan's profile picture">
    <meta property="og:site_name" content="nigilcaenaan.online">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://nigilcaenaan.online/">
    <meta property="twitter:title" id="twitter-title" content="Nigil Caenaan | Music Maker, Composer, and Artist">
    <meta property="twitter:description" id="twitter-description" content="Musician • Artist • Alias of @Vveerrgg">
    <meta property="twitter:image" content="https://primal.b-cdn.net/media-cache?s=m&a=1&u=https%3A%2F%2Fm.primal.net%2FKbTY.jpg">
    <meta property="twitter:image:alt" content="Nigil Caenaan's profile picture">
    <meta name="twitter:creator" content="@nigilcaenaan">

    <!-- Theme Color for browsers -->
    <meta name="theme-color" content="#0984e3" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#2d3436" media="(prefers-color-scheme: dark)">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://github.com/nigilcaenaan.png">
    <link rel="apple-touch-icon" href="https://github.com/nigilcaenaan.png">
    
    <!-- Preload critical resources -->
    <link rel="preload" href="styles.css" as="style">
    <link rel="preload" href="bundle.js" as="script">
    
    <title>Nigil Caenaan | Music Maker, Composer, and Artist - Connect via Nostr & Lightning Network</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/qrcode-generator@1.4.4/qrcode.min.js" defer></script>
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
    <script src="bundle.js" defer></script>
    <style>
        /* Add verification badge styling */
        .verified-badge {
            display: none; /* Hidden by default until verified */
            margin-left: -2px; /* Reduced from 4px to 2px */
            vertical-align: middle;
            width: 20px;
            height: 20px;
            fill: #1d9bf0; /* Twitter blue color */
        }

        #profile-name {
            display: flex;
            align-items: center;
            justify-content: center; /* Center horizontally */
            gap: 8px;
            width: 100%; /* Ensure full width */
            margin: 0 auto; /* Center the container */
            text-align: center; /* Center the text */
        }

        .name-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        /* QR Code Overlay Styles - Primal inspired */
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(4px);
        }

        .overlay-content {
            background: #1a1a1a;
            padding: 2rem;
            border-radius: 16px;
            position: relative;
            max-width: 90%;
            width: 380px;
            color: #fff;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
        }

        .close-overlay {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #888;
            transition: color 0.2s ease;
            padding: 0.5rem;
            line-height: 1;
        }

        .close-overlay:hover {
            color: #fff;
        }

        .tab-content {
            text-align: center;
            min-height: 480px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .qr-container {
            margin: 1rem 0 1.5rem;
            padding: 1.5rem;
            background: #fff;
            border-radius: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .qr-container img {
            width: 200px;
            height: 200px;
        }

        .nostr-info {
            width: 100%;
            margin-top: auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .address-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 0.75rem;
            font-family: monospace;
            font-size: 0.9rem;
            color: #888;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.5rem;
            margin: 0.5rem 0;
        }

        .truncated-address {
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .copy-button {
            background: none;
            border: none;
            color: #888;
            cursor: pointer;
            padding: 0.5rem;
            transition: color 0.2s ease;
            font-size: 1rem;
        }

        .copy-button:hover {
            color: #fff;
        }

        .copy-button i {
            font-size: 1.1rem;
        }

        .qr-button {
            background: none;
            border: none;
            color: var(--text-color);
            cursor: pointer;
            padding: 0.5rem;
            font-size: 1.2rem;
            transition: color 0.3s ease;
        }

        .qr-button:hover {
            color: var(--primary-color);
        }

        /* Responsive adjustments */
        @media (max-width: 480px) {
            .overlay-content {
                width: 95%;
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header class="header" role="banner">
        <a href="/" class="header-logo" aria-label="Home">Nigil Caenaan</a> 
        <span class="header-title">Linked Profiles</span>
        <button class="theme-toggle" aria-label="Toggle dark mode" title="Toggle dark mode">
            <i class="fas fa-moon" aria-hidden="true"></i>
        </button>
    </header>
    <main class="container" role="main">
        <div class="profile">
            <img id="profile-image"
                 src="https://primal.b-cdn.net/media-cache?s=m&a=1&u=https%3A%2F%2Fm.primal.net%2FKbTY.jpg"
                 alt="Nigil Caenaan's profile picture" 
                 class="avatar"
                 width="150" 
                 height="150"
                 loading="eager"
                 data-npub="npub1ypmfc7kx93f4gep9s73hmjzpvf6sc7y02qmd2wqyyq62hcj28nnspxvg0e">
            <h1 id="profile-name">
                <span class="name-container">
                    Nigil Caenaan • @Caenaan
                    <svg class="verified-badge" viewBox="0 0 24 24" aria-label="Verified account">
                        <path d="M22.5 12.5c0-1.58-.875-2.95-2.148-3.6.154-.435.238-.905.238-1.4 0-2.21-1.71-3.998-3.818-3.998-.47 0-.92.084-1.336.25C14.818 2.415 13.51 1.5 12 1.5s-2.816.917-3.437 2.25c-.415-.165-.866-.25-1.336-.25-2.11 0-3.818 1.79-3.818 4 0 .494.083.964.237 1.4-1.272.65-2.147 2.018-2.147 3.6 0 1.495.782 2.798 1.942 3.486-.02.17-.032.34-.032.514 0 2.21 1.708 4 3.818 4 .47 0 .92-.086 1.335-.25.62 1.334 1.926 2.25 3.437 2.25 1.512 0 2.818-.916 3.437-2.25.415.163.865.248 1.336.248 2.11 0 3.818-1.79 3.818-4 0-.174-.012-.344-.033-.513 1.158-.687 1.943-1.99 1.943-3.484zm-6.616-3.334l-4.334 6.5c-.145.217-.382.334-.625.334-.143 0-.288-.04-.416-.126l-.115-.094-2.415-2.415c-.293-.293-.293-.768 0-1.06s.768-.294 1.06 0l1.77 1.767 3.825-5.74c.23-.345.696-.436 1.04-.207.346.23.44.696.21 1.04z"/>
                </svg>
            </span>
        </h1>
            <div class="bio-container">
                <p id="profile-bio" class="bio">Musician • Artist • Alias of @Vveerrgg</p>
                <button class="qr-button" 
                        aria-label="Show QR codes for Nostr and Lightning" 
                        title="Show QR codes">
                    <i class="fas fa-qrcode" aria-hidden="true"></i>
                </button>
            </div>
        </div>

        <nav class="links" aria-label="Social links">
            <a href="https://primal.net/p/npub1ypmfc7kx93f4gep9s73hmjzpvf6sc7y02qmd2wqyyq62hcj28nnspxvg0e" 
               class="link-card" 
               target="_blank" 
               rel="noopener noreferrer"
               aria-label="Visit Nigil Caenaan on Nostr via Primal">
                <i class="fas fa-bolt" aria-hidden="true"></i>
                <span>Nostr @Caenaan</span>
            </a>
            <a href="https://nigilcaenaan.bandcamp.com" 
               class="link-card" 
               target="_blank" 
               rel="noopener noreferrer"
               aria-label="Visit Nigil Caenaan's Bandcamp profile">
                <i class="fab fa-bandcamp" aria-hidden="true"></i>
                <span>Bandcamp @nigilcaenaan</span>
            </a>
            <a href="https://x.com/nigilcaenaan" 
               class="link-card" 
               target="_blank" 
               rel="noopener noreferrer"
               aria-label="Visit Nigil Caenaan on X (formerly Twitter)">
                <i class="fab fa-twitter" aria-hidden="true"></i>
                <span>Social: @X.com</span>
            </a>
            <hr aria-hidden="true">
            <a href="https://www.discogs.com/artist/55647-Nigil-Caenaan" 
               class="link-card" 
               target="_blank" 
               rel="noopener noreferrer"
               aria-label="Discography on Discogs.com">
                <i class="fas fa-book" aria-hidden="true"></i>
                <span>Discography on Discogs.com</span>
            </a>
            <iframe style="border-radius:12px" src="https://open.spotify.com/embed/artist/4RjBcw1cZ7lc9luFvpByuH?utm_source=generator&theme=0" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
        </nav>
    </main>

    <!-- QR Code Overlay -->
    <div class="overlay" 
         id="qrOverlay" 
         role="dialog" 
         aria-label="QR Code Display"
         aria-hidden="true">
        <div class="overlay-content">
            <button class="close-overlay" 
                    aria-label="Close QR code overlay">&times;</button>
            
            <div class="tab-content" 
                 id="nostr-tab" 
                 role="tabpanel"
                 aria-labelledby="nostr-tab">
                <div class="qr-container" aria-label="Nostr QR Code">
                    <div id="nostr-qrcode"></div>
                </div>
                <div class="nostr-info">
                    <div class="address-container">
                        <span class="truncated-address" id="nostrNpub"></span>
                        <button class="copy-button" 
                                data-copy="npub"
                                aria-label="Copy Nostr npub">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                    <div class="address-container">
                        <span class="truncated-address" id="nostrPubkey"></span>
                        <button class="copy-button" 
                                data-copy="pubkey"
                                aria-label="Copy Nostr public key">
                            <i class="fas fa-copy"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <footer role="contentinfo">
        <p>&copy; 2025 <a href="https://www.humanjava.com/" target="_blank" rel="noopener noreferrer">Humanjava Enterprises</a>. All rights reserved.</p>
    </footer>

    <!-- Schema.org JSON-LD -->
    <script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Person",
        "@id": "https://nigilcaenaan.online/#person",
        "name": "Nigil Caenaan",
        "alternateName": "@Caenaan",
        "description": "Musician • Artist • Alias of @Vveerrgg"
    }
    </script>
    <script>
        // Add verification check function
        async function checkVerification(domain, expectedName) {
            try {
                const response = await fetch(`https://dns.google/resolve?name=nostr_.${domain}&type=TXT`);
                const data = await response.json();
                if (data.Answer && data.Answer[0].data) {
                    const record = data.Answer[0].data.replace(/"/g, '');
                    const nameMatch = record.match(/name=([^,]+)/);
                    if (nameMatch && nameMatch[1].toLowerCase() === expectedName.toLowerCase()) {
                        document.querySelector('.verified-badge').style.display = 'inline';
                    }
                }
            } catch (error) {
                console.error('Verification check failed:', error);
            }
        }

        // Check verification on page load
        document.addEventListener('DOMContentLoaded', () => {
            checkVerification('nigilcaenaan.online', 'caenaan');
        });
    </script>
    <script>
        // QR Code functionality
        document.addEventListener('DOMContentLoaded', () => {
            const qrButton = document.querySelector('.qr-button');
            const qrOverlay = document.getElementById('qrOverlay');
            const closeButton = document.querySelector('.close-overlay');
            const copyButtons = document.querySelectorAll('.copy-button');
            
            // Show QR overlay when QR button is clicked
            qrButton.addEventListener('click', () => {
                qrOverlay.style.display = 'flex';
                qrOverlay.setAttribute('aria-hidden', 'false');
                generateQRCodes();
            });
            
            // Close overlay when close button is clicked
            closeButton.addEventListener('click', () => {
                qrOverlay.style.display = 'none';
                qrOverlay.setAttribute('aria-hidden', 'true');
            });
            
            // Close overlay when clicking outside the content
            qrOverlay.addEventListener('click', (e) => {
                if (e.target === qrOverlay) {
                    qrOverlay.style.display = 'none';
                    qrOverlay.setAttribute('aria-hidden', 'true');
                }
            });
            
            // Function to truncate address
            function truncateAddress(address, start = 8, end = 8) {
                if (!address) return '';
                if (address.length <= start + end) return address;
                return `${address.slice(0, start)}...${address.slice(-end)}`;
            }
            
            // Generate QR codes function
            function generateQRCodes() {
                const npub = document.querySelector('#profile-image').getAttribute('data-npub');
                const primalUrl = `https://primal.net/p/${npub}`;
                
                // Clear existing QR code
                document.getElementById('nostr-qrcode').innerHTML = '';
                
                // Generate Nostr QR code with Primal URL
                new QRCode(document.getElementById('nostr-qrcode'), {
                    text: primalUrl,
                    width: 200,
                    height: 200,
                    colorDark: "#000000",
                    colorLight: "#ffffff",
                    correctLevel: QRCode.CorrectLevel.H
                });
                
                // Update text fields with truncated addresses
                document.getElementById('nostrNpub').textContent = truncateAddress(npub, 9, 8);
                document.getElementById('nostrPubkey').textContent = truncateAddress(npub.slice(5), 8, 8); // Remove 'npub1' prefix
            }
            
            // Copy button functionality
            copyButtons.forEach(button => {
                button.addEventListener('click', async () => {
                    const type = button.getAttribute('data-copy');
                    let textToCopy = '';
                    
                    switch(type) {
                        case 'npub':
                            textToCopy = document.querySelector('#profile-image').getAttribute('data-npub');
                            break;
                        case 'pubkey':
                            textToCopy = document.querySelector('#profile-image').getAttribute('data-npub').slice(5);
                            break;
                    }
                    
                    try {
                        await navigator.clipboard.writeText(textToCopy);
                        const icon = button.querySelector('i');
                        icon.classList.remove('fa-copy');
                        icon.classList.add('fa-check');
                        setTimeout(() => {
                            icon.classList.remove('fa-check');
                            icon.classList.add('fa-copy');
                        }, 2000);
                    } catch (err) {
                        console.error('Failed to copy:', err);
                    }
                });
            });
        });
    </script>
</body>
</html>
